/*-------------------------*\
|          Jour 3           |
\*-------------------------*/

var input = "....##..#........##...#.#..#.##;.#.#..#....##....#...#..##.....;##.#..##..#...#..........##.#..;.#.##.####..#......###.........;#.#.#...........#.....#...#....;#.......#....#.#.##..###..##..#;.#...#...##....#.........#.....;..........##.#.#.....#....#.#..;.......##..##...#.#.#...#......;.#.#.#...#...##...#.##.##..#...;........##.#.#.###.........##..;#.#..#.#.#.....#...#...#......#;.#.#.#...##......#...#.........;.#..##.##.#...#...##....#.#....;.##...#..#..#......##.###....##;.....#...#.###.....#.#.........;#.##..#....#.#.#.#.............;........#...#......#...#..#....;##..##...##.##...#...#.###...##;#.#....##.#...###......#..#.#..;..#.....#.##......#..........#.;#.......#..#......#.....#....#.;.....###...........#....#.##...;#.#........##.......#.#...#.##.;.#.#.#........#........#.#.....;#..#..##.....#.###..#.#.#.##..#;..#.#...#..##.#.#.#.......###..;........#........#..#..#...#...;##............#...#..##.##...#.;#....#.#.....##...#............;............#...#..#.#.#....#..;#.#.#...##.##.#....#....#......;................###.....#.....#;##.#####.#..#...###..#...###...;...#.....#...#.#....#...#..#...;.......#....##.##.#.##.........;..#..#..##.....#...#.#.....#...;...#...#.#.##.#..###.......#...;...#...........#.#####..##..#..;#.#...#........####..#......#.#;#..#.##...........#.#......#.##;#.#..#....##..#..##.#..........;.....#..#.....#........##..#...;...###.......#.##.......#......;...##..#..#...#....#.###...#...;....####....#........#.##.#.#.#;#....#.....#.###.##...##..##.##;.##.#...#.##.#......#..##.#....;...#.............#.............;..##..##.#.....#........##....#;#.....#....#.......####...#..#.;..#...#..#...#...##.#....##....;.#...##....#....#..#....#......;##..#.#...##......#..#.......##;..#...#.##..#.....#.#...#..#.#.;#..##....#..........#..........;.#........#..#......#......#.#.;...##.#.........#.#....#.#...#.;#.....#.#..#...#...#..#...#...#;#.........#.#.........##.......;.#.......#......#.........###..;.#..#..##...........#.....#..#.;.#....................#.....#..;.##.....#....#....#.###.....#..;...##.#.....#.#....#.........#.;.........##.....#.....#.##..#..;......#......#.#..#..###...#..#;..##...#.#..#...#.#....#.......;..#..##.###.#..#..#..#......#..;.....##...##.........#...##...#;###.#..##....##...##.#..###....;#...#.#..##......##...#.#..#...;..........#....###....#........;#.#.#.#.#.....#..##.##.....#...;.##.....#...#.....#......#.....;.#..........#.#.............#..;.#..##..#.#..##...#....#.##...#;..#.#..........#...#..........#;.#.......#.......#...#..#.....#;##.#...##...#......#.#..#......;#####..#....#..#...#...#.#.....;....#.......#.#..#.............;#..#..#.#.####...#....#....##..;#..#.##.#......#...#......#....;#...##.##...#....#..........##.;..#..#.......##.#....#...#.#...;.....#.##..............##.....#;..##.##...##.....#.........#.#.;.#....##...##...##..#....##..#.;.#...#....#..#......#.#........;#....#.#.#..............#....##;..##..#..#....#####.#....#.#.##;#....#...#.##..#.##.........###;#..#..#....#...............#.#.;#....##...##........##.##.#.##.;......#......##....##.....#.###;#...##..#..#.....#.#........##.;..#.#.##...#...#....#..###...#.;#..##..#.###..##.#.#....#......;..###..#.##........###.....#...;#.............#.............#..;.#.##....#..##.#...#....#.#####;###.....###.#......##..#..##...;.#.#......##.#....#....#.#..#..;###..#..#....#......###.##.....;......#.......#......#..##..##.;..#..#...#..#....#.##....#.#..#;.......##..#........#.#.##.....;.#...#..#........#..#.#..#..#.#;.#..#.##.......#......#...#.#..;.##..##......##.#...#......####;.....#....#......#.....#......#;..........#.#.#...##.#..#.#....;...#.......##......#..#.#.##...;.###..#.#.#....................;##...#...#.##............#.....;....#....#.##...#..#.#...##....;..#.#....#.###...#...#.#.####.#;..#..#.#...#.#......##.........;#..#..####.##.#.#..###....#...#;....#..........#.##.#..#.#.#.#.;#.#.##.........#.....##...#..##;#......#...#.##.#......#..#.#..;#...#........#..#..#...##...#..;.....#.####..##..#.#.##..#...#.;#..#........#........#...#....#;...........#..#.....#.#.#.#....;....#......#....#...#....##....;.#.#..#...#.#....#..#.#....##.#;....#...#...#.##..#...#..##...#;#######...............##.....##;.#.#..............#....#..#.###;#......#.#......###....###.....;##..#...#.##..##..##.#....#....;#....##..#..#...#.#.#...#......;..........#..#.##..##.##.#..##.;....#.#.#.....##........#..#...;..###...#.....##.##.....##..##.;....#.#..#.#.......#.......#...;..##.#..#.....##...###...#...#.;..#.........#...##...#...#..#..;..#..#..#..#..##.#...##..#.#...;...##..#..##..#..####...#.....#;............#............###...;.#.#.###.#.....#.#.#..#.###..#.;...#.........#.....####........;....##.#..##.#.............#...;....#.##.....#..#.....#......##;..........#.............#...##.;#..#.....#.......##..###.......;..##.#...........#.......#..#..;...#...#.#.##.###....#.#..#....;...#..........##..#..#..#...###;.........#.....#..##.....#..#..;#........#...#...#..#.#....##..;.#.#.....####..#.##.#..........;###.......##..#.##...#.....#...;..###.##.#..#..#..#.....##...#.;.........#.....##.#..#..##.....;#..#..##...###..............#..;#....#.#....#..#.....#..####...;####..#.....##...#..#.#.#.#...#;...#....#.....#.##.#.#.#....##.;..........#...#.....###....#.##;#....#.#.#....#..#..#.....#....;.....#.#...#......#....#......#;.####....##...#...#......##..#.;.#...#..#....#..#..............;##.#...##...#.##..#......#.....;..####.##..#....#.#......#.#.##;........#.....##...#.#..##....#;....#.#.#.#.###...#.#...##...##;#.....#...####.#....#.#........;..#.....#...##.........###.....;....#....#....#..#......#####.#;###.....#..#.#.#......#.##.#...;....#.##......#..#.#...........;.#....#....#.#..#.......#...##.;...................#.#.#..#....;##...#.....#........#....#...#.;........##......#...##.#..#.#.#;#.#..###...#....#.#...#.......#;#..........##......#..#..#.....;.............#...##.#...#......;#..#....##..#.........#..#.###.;.....#..........#....##.#...##.;###....................#.#.##..;#........##...##......#....###.;#....#.............#....#...#..;##.......##.#.......#....#..#..;##...#............#..#.#....##.;..#.#..#...#####..........#....;..#.........##.....#.#...####..;....#..............#...........;..#...#.#.#..#.......##.#.#.#..;....#.##.....##..#.....#..####.;#...#...#...#.......#.........#;......#..#.####...###.#.#.....#;.......#..#..#.....#.#..##.#..#;.#......##..#............#.....;.#........#.#....#....#........;.....#.#..#.##.#..##....#..#...;#.#...........#....##.....#....;..#..#..##.###..##..#..###.#.##;##.#..#...##.#.........#...#.#.;......#..#..##...#....#...#.##.;#.##.......................#...;.......#..#..#.##..##......#...;..#.#...#.....#..###....#...#..;##..#.....#..#..#.##.....#...##;#...##...###...#.#..###....#...;...#.#.#..####.....#...##....#.;.#.#..##.....#..#.....##..##..#;#...#..........#.##.#.#........;..##....#.##....#..##......#...;....#..........###.....####..##;...........###....##.#.#.#.#...;...#......................####.;#.#.#...#.#.#.#.#......#.....##;..###...#.####...#..##..#....#.;....#....#.......#...#.........;.#.###.............##..#...#...;....#.#....##...#.....#.##.....;#.......##.....#.#.....#....##.;....##.....###..#.#..#....#...#;......#..##...#......#.....#.##;.#.....#.##.###....#.....#..###;...#..#.###.#....#..#..#...##.#;...##..#...#..#.#.#..#...#.....;##.####...##..#.#.#....#.......;..##..#.#.......##.#......##.#.;....##....#....#..#....#..##.#.;..##..........##....#...#.#..#.;#.#...#.#.###.#.#..##.#...#....;.....#..#.............#...#...#;....#.#..#...##...#....#.##....;#..#...#.###.....#...#.....#.#.;#####....#....#....#.......#.##;#...##....##.#.#...#.....##.#..;#.......#...#..#..#...#....#...;....#......#.#..........#....##;#.###...#.#..##..#.##........#.;#..#.....##.......#..#..#.#....;...#...#.##...#....#.#.#.#...#.;...##..#.#....#......###......#;#.#....#...#..#..#....#........;..#..#.#...##..........#.###...;#..........#...#..#....#....###;..#..#.#....#..............#...;...#........#...#.#....###.#..#;....#.#.#................#..#.#;..#........##.#....#.#..#......;...##..#..#.......#..#......#.#;..#..#....#.........#....#.##..;#.....#....###.#..#..#...#...#.;..#..##.###.#..##....#.###.....;...#...####..#........###.#....;.........#.#...#..#..#.#.......;.##.........##.#..............#;..#.#.#.....###........#.#.#..#;....##..#....#....#.#..#.......;#.#.....#...#........##........;.##.#.#..#..#.#.#.........#....;#.....#..#.##...#...#..........;##..#....#....##.#..#.........#;................#.##.#......#.#;..#..#.#........##...###..#...#;##........#.......#...##.##..#.;##....#.....#..##....#.......#.;#.#....#.#........#..#.........;......##......#...#.....#.##...;###....#..........##.#.#......#;......#...###.........###..#...;.####....#...##..#.#.....#...#.;.##...#...###....#...#.#..###..;#..#......##...#.###..###...#..;#....#.#.#..#....##...#.##..#..;..#.....#...#..........#.##.###;#.....#....###.......##..##.#..;#..##...#..#....#.###......#...;#..#........##..#.....#.#.#....;#.##.#.#..#....#.#.............;.#...............#....##.......;.#.##......##........#...#..#.#;.#...#....#....#...#..#...##...;.....#..###...##........#.#....;...#.......#....##..#..#....#..;...###....#........#..#.###.#..;......##..##..............###.#;.......#.####..##....#.#....#..;#...#......#...#..#.....##....#;.#..#..###....#..##.##.#.......;#......##......#..##....#..##..;.....#..#.#......##.##..##.....;...#..#.......#......#.........;....#..####......#..#....#...#.;..#.#..#...#....#....#.......#.;####..#........#.###...##.#.#.#;.......##........#.#.#...##....;...#.........#..#.#..##....#...;.....#..#...#.#....#...#.#.##.#;#..##.....#.....##.......#...#.;.......##.#.#.....#....#......#;...#...#.##...#......#....#....;..#..#.#...#..#.....#...###.#..;.........#...#..#.......##.....;..##...................#..#.###;.##.##..#.#...#.#....#.....##..;#.#...##...#...#...##..#......#;....#..#...#.....##.#.....#..##;##.#..........###..#...#..#....;...##....#.##....#......#......;.....#.........#....#.#.......#;.......#............#.#.....#..;..#..#...#..#####..#....##.....;...##......##...#.#........##..;.....#..###...##.#.#.##.#...#..;..#.#.#..##..#.##...##.#.#.....;......##...#..##......#.#......;......................#........;#...#..#....#..#.#.##.#.....#.#;.#......#.#....#.#.#..#....#...;.#..#.#.#..#....#..............";
input = input.split(";");

var posX = 0, posY = 0, xRange = input[0].length;

var nbArbres = 0;
for (var yMax = input.length; posY < yMax; posY += 1, posX += 3) {
	if (posX >= xRange) {
		posX -= xRange;
	}
	if (input[posY].charAt(posX) == "#") {
		nbArbres++;
	}
}

console.log(nbArbres);

// part 2

var slopeX = [1, 3, 5, 7, 1];
var slopeY = [1, 1, 1, 1, 2];

var solution = 1;
for (var n = 0, nMax = slopeX.length; n < nMax; ++n) {
	posX = posY = nbArbres = 0;
	for (var yMax = input.length; posY < yMax; posY += slopeY[n], posX += slopeX[n]) {
		if (posX >= xRange) {
			posX -= xRange;
		}
		if (input[posY].charAt(posX) == "#") {
			nbArbres++;
		}
	}
	solution *= nbArbres;
}

console.log(solution);
